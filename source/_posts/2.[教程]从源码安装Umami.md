---
title: '[教程]从源码安装Umami'
tags:
  - Umami
  - 教程
categories:
  - Umami
description: 阅读这篇Umami源码安装教程，了解从源码安装Umami的方法。手把手教你从零开始搭建私有Umami网站统计工具。零基础也能轻松上手！
series: 2
abbrlink: umamiinstall
date: 2025-08-03 12:10:00
updated: 2025-08-03 12:10:00
top_img: false
cover: https://qn.cdn.yll14.cn/umami/umami_0.webp
---

# 关于Umami

### 什么是Umami？

Umami 是一个简单、快速、注重隐私的开源分析解决方案，是 Google Analytics 的替代品。可轻松收集、分析和了解您的网络数据，同时维护访客隐私和数据所有权。不收集个人身份信息，不使用 Cookie，所有数据都经过匿名处理，符合 GDPR。与许多传统分析平台不同，Umami 不收集或存储个人数据，从而避免了对 cookie 的需求， 并且符合 GDPR 和 PECR 标准。Umami 设计为轻量级且易于设置，可以自托管，让用户可以完全控制他们的数据。

### 为什么要使用Umami？

它是一个网站统计工具，可以帮助你分析网站的访问情况，比如访问量、访问来源、访问时间等等。这对于静态网站来说是非常有用的，因为静态网站无法像动态网站一样通过后端代码来统计访问情况。

# 如何使用Umami

Umami支持本地部署与使用[Umami Cloud](https://umami.is/)两种方式，本篇文章主要是写本地部署-从源码安装。

## 开始

### 要求

从源码安装需要用到以下程序

*   [Git](https://git-scm.cn/)
*   [Node.js](https://nodejs.org/) >= 18.18
*   [MySQL](https://www.mysql.com/) (最低v8.0)or [Postgresql](https://www.postgresql.org/) (最低v12.14)

这里请自行寻找教程安装以上程序。

### 安装 Yarn
```bash
npm install -g yarn
```

### 获取源代码并安装依赖

```bash
git clone https://github.com/umami-software/umami.git
cd umami 
yarn install
```

### 配置Umami

创建一个 `.env` 文件，内容如下： `DATABASE_URL={connection url}` 其中`{connection-url}` 为数据库连接地址，使用不同的数据库有不同的地址

*   使用MySQL

```env
DATABASE_URL=mysql://username:password@localhost:3306/dbname
```

*   使用Postgresql

```env
DATABASE_URL=postgresql://username:password@localhost:5432/dbname
```

### 构建Umami

```bash
yarn build
```

### 启动Umami

```bash
yarn start
``` 
一般情况下，您的Umami程序将会运行在 http://localhost:3000 上。

## 修改Umami账号密码

安装好后访问 http://localhost:3000进入登入界面，登录你的Umami。   在构建Umami时会自动创建一个用户名为`admin`密码为`umami`的账户。 [![](https://qn.cdn.yll14.cn/umami/umami_1.webp)](https://qn.cdn.yll14.cn/umami/umami_1.webp)  

Tips：登录后在右上角可以修改语言

[![](https://qn.cdn.yll14.cn/umami/umami_2.webp)](https://qn.cdn.yll14.cn/umami/umami_2.webp)

在右上角人像图标-->个人资料中修改密码。

[![](https://qn.cdn.yll14.cn/umami/umami_3.webp)](https://qn.cdn.yll14.cn/umami/umami_3.webp) 
[![](https://qn.cdn.yll14.cn/umami/umami_4.webp)](https://qn.cdn.yll14.cn/umami/umami_4.webp)

## 添加网站

点击 `设置` -> `网站` -> `添加网站`，输入你的网站地址，点击 `添加` ，然后填写相关信息即可。 
[![](https://qn.cdn.yll14.cn/umami/umami_5.webp)](https://qn.cdn.yll14.cn/umami/umami_5.webp)
添加完成后，单击 `编辑` 按钮 [![](https://qn.cdn.yll14.cn/umami/umami_6.webp)](https://qn.cdn.yll14.cn/umami/umami_6.webp) 
再点击 `跟踪代码`，复制代码到你的网站代码 `<head>` 标签中即可。 
[![](https://qn.cdn.yll14.cn/umami/umami_7.webp)](https://qn.cdn.yll14.cn/umami/umami_7.webp) 如果你在本地测试页面，你会发现 `localhost` 也被统计了，可以添加 `data-domains` 属性标签，只统计你的域名
Tips:
如果你要遵循访客的 `Do Not Track` 设置，可以添加 `data-do-not-track` 属性标签

更多的使用方法请参考官方文档：[https://umami.is/docs/tracker-configuration](https://umami.is/docs/tracker-configuration)

## 结束语

到这里本文就正式结束了。感谢您的阅读，如果您觉得有什么不好或不正确的地方请在文章下方评论，我会及时修正。